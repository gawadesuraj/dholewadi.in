import{j as e,P as f,C as m,s as p}from"./index-C0LDelAR.js";import{r as a,L as x}from"./router-DLuhiZlq.js";import{S as v}from"./SearchBar-CmaLrTg2.js";import"./vendor-BVxHPo8L.js";function E(){const[l,o]=a.useState(""),[h,u]=a.useState([]),[i,g]=a.useState(!0);a.useEffect(()=>{(async()=>{try{const{data:t,error:n}=await p.from("events").select("*").eq("is_published",!0).order("date",{ascending:!1});if(n)throw n;u(t||[])}catch(t){console.error("Error fetching events:",t)}finally{g(!1)}})()},[]);const r=h.filter(s=>s.title.toLowerCase().includes(l.toLowerCase())||s.description?.toLowerCase().includes(l.toLowerCase())||s.subtitle?.toLowerCase().includes(l.toLowerCase())),j=[{label:"Events",href:null}],c=r.filter(s=>new Date(s.date)>=new Date),d=r.filter(s=>new Date(s.date)<new Date);return e.jsxs("div",{children:[e.jsx(f,{title:"Events & Programs",subtitle:"Upcoming events, meetings, and government programs",breadcrumbs:j}),e.jsxs("div",{className:"container py-12",children:[e.jsx("div",{className:"mb-8 flex justify-center",children:e.jsx(v,{onSearch:o,placeholder:"Search events..."})}),c.length>0&&e.jsxs("div",{className:"mb-12",children:[e.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"Upcoming Events"}),e.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:c.map(s=>e.jsx(m,{hover:!0,children:e.jsxs("div",{className:"p-6",children:[s.image_url&&e.jsx("img",{src:s.image_url,alt:s.title,className:"w-full h-48 object-cover rounded-md mb-4"}),e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsx("span",{className:"bg-green-100 text-green-800 text-xs px-3 py-1 rounded-full capitalize",children:s.category||"Event"}),e.jsxs("div",{className:"text-right text-sm",children:[e.jsx("div",{className:"font-medium text-primary",children:s.date}),e.jsx("div",{className:"text-gray-500",children:s.time})]})]}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:s.title}),s.subtitle&&e.jsx("h4",{className:"text-md text-gray-700 mb-2",children:s.subtitle}),e.jsx("p",{className:"text-gray-600 text-sm mb-3",children:s.description}),s.venue&&e.jsxs("div",{className:"flex items-center text-sm text-gray-500 mb-4",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),s.venue]}),e.jsxs(x,{to:`/events/${s.id}`,className:"inline-flex items-center text-primary hover:text-primary-dark font-medium",children:["View Details",e.jsx("svg",{className:"ml-1 w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z",clipRule:"evenodd"})})]})]})},s.id))})]}),d.length>0&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"Past Events"}),e.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:d.map(s=>e.jsx(m,{hover:!0,className:"opacity-75",children:e.jsxs("div",{className:"p-6",children:[s.image_url&&e.jsx("img",{src:s.image_url,alt:s.title,className:"w-full h-48 object-cover rounded-md mb-4 opacity-75"}),e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsx("span",{className:"bg-gray-100 text-gray-600 text-xs px-3 py-1 rounded-full capitalize",children:s.category||"Event"}),e.jsxs("div",{className:"text-right text-sm",children:[e.jsx("div",{className:"font-medium text-gray-500",children:s.date}),e.jsx("div",{className:"text-gray-400",children:s.time})]})]}),e.jsx("h3",{className:"text-lg font-semibold mb-2 text-gray-700",children:s.title}),s.subtitle&&e.jsx("h4",{className:"text-md text-gray-600 mb-2",children:s.subtitle}),e.jsx("p",{className:"text-gray-500 text-sm mb-3",children:s.description}),s.venue&&e.jsxs("div",{className:"flex items-center text-sm text-gray-400 mb-4",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),s.venue]}),e.jsxs(x,{to:`/events/${s.id}`,className:"inline-flex items-center text-gray-500 hover:text-primary font-medium",children:["View Details",e.jsx("svg",{className:"ml-1 w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z",clipRule:"evenodd"})})]})]})},s.id))})]}),i&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-gray-400 text-6xl mb-4",children:"‚è≥"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Loading events..."})]}),!i&&r.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-gray-400 text-6xl mb-4",children:"üìÖ"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No events found"}),e.jsx("p",{className:"text-gray-600",children:"Try adjusting your search criteria."})]})]})]})}export{E as default};
