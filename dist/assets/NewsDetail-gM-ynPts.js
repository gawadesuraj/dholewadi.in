import{j as e,P as j,C as c,s as d}from"./index-C0LDelAR.js";import{c as N,r as i,L as r}from"./router-DLuhiZlq.js";import"./vendor-BVxHPo8L.js";function f(){const{id:l}=N(),[s,m]=i.useState(null),[n,o]=i.useState([]);if(i.useEffect(()=>{async function a(){const{data:t,error:h}=await d.from("news").select("*").eq("id",l).single();if(!h){m(t);const{data:p}=await d.from("news").select("*").neq("id",l).eq("category",t.category).limit(3);o(p||[])}}a()},[l]),!s)return e.jsxs("div",{className:"container py-12 text-center",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"News article not found"}),e.jsx(r,{to:"/news",className:"text-primary hover:underline",children:"← Back to News"})]});const x=[{label:"News",href:"/news"},{label:s.title.substring(0,50)+"...",href:null}];return e.jsxs("div",{children:[e.jsx(j,{breadcrumbs:x}),e.jsx("div",{className:"container py-12",children:e.jsxs("div",{className:"grid lg:grid-cols-4 gap-8",children:[e.jsx("article",{className:"lg:col-span-3",children:e.jsx(c,{children:e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.category&&e.jsx("span",{className:"bg-primary text-white text-sm px-3 py-1 rounded-full capitalize",children:s.category}),e.jsx("span",{className:"text-gray-500 text-sm",children:new Date(s.published_at).toLocaleDateString()})]}),e.jsx("h1",{className:"text-3xl font-bold mb-4 leading-tight",children:s.title}),s.summary&&e.jsx("p",{className:"text-xl text-gray-600 leading-relaxed notranslate",children:s.summary})]}),s.image_url&&e.jsx("img",{src:s.image_url,alt:"",className:"w-full h-64 object-cover rounded-lg mb-8"}),e.jsx("div",{className:"prose prose-lg max-w-none",children:s.content?.split(`
`).map((a,t)=>e.jsx("p",{children:a},t))}),e.jsx("div",{className:"mt-8 pt-6 border-t",children:e.jsxs("div",{className:"flex justify-between items-center text-sm text-gray-500",children:[e.jsxs("span",{children:["Published on ",new Date(s.published_at).toLocaleString()]}),e.jsx(r,{to:"/news",className:"text-primary hover:underline",children:"← Back to News"})]})})]})})}),e.jsx("aside",{className:"space-y-6",children:n.length>0&&e.jsx(c,{children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Related News"}),e.jsx("div",{className:"space-y-4",children:n.map(a=>e.jsx("div",{children:e.jsxs(r,{to:`/news/${a.id}`,className:"block hover:text-primary transition-colors",children:[e.jsx("h4",{className:"font-medium text-sm line-clamp-2 mb-1",children:a.title}),e.jsx("p",{className:"text-xs text-gray-500",children:new Date(a.published_at).toLocaleDateString()})]})},a.id))})]})})})]})})]})}export{f as default};
