import{j as e,s as N}from"./index-C0LDelAR.js";import{r as a,L as g}from"./router-DLuhiZlq.js";import"./vendor-BVxHPo8L.js";const k=a.memo(({title:n,subtitle:i,breadcrumbs:o})=>e.jsx("header",{className:"bg-gray-100 py-2",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsx("nav",{"aria-label":"breadcrumb",className:"mb-4",children:e.jsxs("ol",{className:"flex items-center text-sm text-gray-500",children:[e.jsx("li",{children:e.jsx(g,{to:"/",className:"hover:text-blue-600",children:"Home"})}),o.map((r,m)=>e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"mx-2",children:"/"}),r.href?e.jsx(g,{to:r.href,className:"hover:text-blue-600",children:r.label}):e.jsx("span",{className:"font-medium text-gray-700",children:r.label})]},m))]})}),e.jsxs("div",{className:"text-left",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-2",children:n}),e.jsx("p",{className:"text-lg text-gray-600",children:i})]})]})})),L=()=>{const[n,i]=a.useState(!1),[o,r]=a.useState(null),[m,p]=a.useState(!1),[l,f]=a.useState([]),[y,b]=a.useState(!0),[x,v]=a.useState(null),j=a.useMemo(()=>[{label:"Gallery",href:null}],[]);a.useEffect(()=>{(async()=>{try{const{data:s,error:d}=await N.from("photos").select("*").order("created_at",{ascending:!1});if(d)throw d;f(s||[])}catch(s){console.error("Error fetching photos:",s),v("Failed to load gallery images")}finally{b(!1)}})()},[]),a.useEffect(()=>{const t=setTimeout(()=>p(!0),30);return()=>clearTimeout(t)},[]);const w=a.useCallback(t=>{r(t),i(!0)},[]),c=a.useCallback(()=>{i(!1),r(null)},[]),h=a.useCallback(()=>{r(t=>t===null?0:(t+1)%l.length)},[l.length]),u=a.useCallback(()=>{r(t=>t===null?0:(t-1+l.length)%l.length)},[l.length]);return a.useEffect(()=>{if(!n)return;const t=s=>{s.key==="ArrowRight"?h():s.key==="ArrowLeft"?u():s.key==="Escape"&&c()};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[n,h,u,c]),e.jsxs("div",{children:[e.jsx("style",{children:`
        @keyframes bounceIn {
          0% { opacity: 0; transform: translateY(20px) scale(0.98); }
          60% { opacity: 1; transform: translateY(-8px) scale(1.03); }
          80% { transform: translateY(4px) scale(0.99); }
          100% { transform: translateY(0) scale(1); }
        }
        @keyframes hoverBounce {
          0% { transform: scale(1) translateY(0); }
          30% { transform: scale(1.05) translateY(-3px); }
          60% { transform: scale(0.98) translateY(1px); }
          100% { transform: scale(1) translateY(0); }
        }
        .entry-bounce { animation: bounceIn 0.8s cubic-bezier(.215,.61,.355,1) both; will-change: transform, opacity; }
        .hover-bounce:hover { animation: hoverBounce 0.5s ease-in-out; box-shadow: 0 12px 24px rgba(0,0,0,0.25); }
        @media (prefers-reduced-motion: reduce) {
          .entry-bounce, .hover-bounce:hover { animation: none !important; transform: none !important; }
        }
      `}),e.jsx(k,{title:"छायाचित्र दालन (Photo Gallery)",subtitle:"Our village's moments captured in time.",breadcrumbs:j}),e.jsxs("section",{className:"bg-white py-12 px-4",children:[e.jsx("div",{className:"container mx-auto",children:y?e.jsx("div",{className:"text-center py-10 text-gray-600",children:"Loading gallery..."}):x?e.jsx("div",{className:"text-center py-10 text-red-600",children:x}):l.length===0?e.jsx("div",{className:"text-center py-10 text-gray-600",children:"No photos available"}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:l.map((t,s)=>{const d=s*90;return e.jsxs("div",{className:`group cursor-pointer overflow-hidden rounded-lg shadow-lg relative transition-all duration-300 ease-in-out hover:shadow-2xl hover-bounce ${m?"entry-bounce":"opacity-0 translate-y-2"}`,onClick:()=>w(s),style:{animationDelay:`${d}ms`},children:[e.jsx("img",{src:t.image_url,alt:t.alt_text||"Gallery image",loading:"lazy",decoding:"async",className:"w-full h-60 object-cover transform group-hover:scale-105 transition-transform duration-500"}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]},t.id)})})}),n&&o!==null&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-80",onClick:c,children:e.jsxs("div",{className:"relative bg-white p-4 rounded-lg max-w-4xl max-h-[90vh] w-full",onClick:t=>t.stopPropagation(),children:[e.jsx("button",{onClick:c,className:"absolute -top-4 -right-4 z-50 bg-white rounded-full p-2 text-gray-800 hover:bg-gray-200 transition","aria-label":"Close",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e.jsx("div",{className:"flex flex-col items-center",children:e.jsx("img",{src:l[o].image_url,alt:l[o].alt_text||"Gallery image",loading:"lazy",decoding:"async",className:"max-h-[75vh] w-auto object-contain rounded-md"})}),e.jsx("button",{onClick:u,className:"absolute left-4 top-1/2 -translate-y-1/2 bg-white/50 hover:bg-white/80 p-2 rounded-full transition","aria-label":"Previous image",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})})}),e.jsx("button",{onClick:h,className:"absolute right-4 top-1/2 -translate-y-1/2 bg-white/50 hover:bg-white/80 p-2 rounded-full transition","aria-label":"Next image",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})})]})})]})]})};function M(){return e.jsx(a.Suspense,{fallback:e.jsx("div",{className:"text-center py-10 text-gray-600",children:"Loading gallery..."}),children:e.jsx(L,{})})}export{M as default};
